<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BnF Image API Client ‚Ä¢ bnfimage</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="BnF Image API Client">
<meta property="og:description" content="Provides an R client for the image API of the Biblioth√®que
    Nationale de France (BnF, National Library of France).">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">bnfimage</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/bnfimage.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Rekyt/bnfimage/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="-bnfimage--api-client-to-bnf-images" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#-bnfimage--api-client-to-bnf-images" class="anchor"></a><span class="emoji" data-emoji="package">üì¶</span> <code>bnfimage</code> ‚Äì API client to BnF images</h1></div>
<!-- badges: start -->

<p><code>bnfimage</code> is an R client for the <a href="http://api.bnf.fr/api-iiif-de-recuperation-des-images-de-gallica">BnF images API</a>. The Biblioth√®que Nationale de France (BnF), has a online repository called <a href="https://gallica.bnf.fr/">Gallica</a> containing millions of scanned documents. The BnF offers an API to access all the images programmatically, <code>bnfimage</code> lets you access it through R.</p>
<p>The BnF Image API is implemented following the <a href="https://iiif.io/">International Image Interoperability Framework</a> (IIIF) with Image API implemented using v.1.1, the Presentation API implemented using v.2.0, and the Search API not yet implemented.</p>
<div id="-installation" class="section level2">
<h2 class="hasAnchor">
<a href="#-installation" class="anchor"></a><span class="emoji" data-emoji="wrench">üîß</span> Installation</h2>
<p>You can install the development version of bnfimage with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"Rekyt/bnfimage"</span><span class="op">)</span></code></pre></div>
</div>
<div id="-example" class="section level2">
<h2 class="hasAnchor">
<a href="#-example" class="anchor"></a><span class="emoji" data-emoji="memo">üìù</span> Example</h2>
<p>You can extract images with the <code><a href="reference/bi_image.html">bi_image()</a></code> function:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://rekyt.github.io/bnfimage/">bnfimage</a></span><span class="op">)</span>
<span class="va">eiffel_tower</span> <span class="op">=</span> <span class="fu"><a href="reference/bi_image.html">bi_image</a></span><span class="op">(</span>
  identifier <span class="op">=</span> <span class="st">"ark:/12148/btv1b9055204k/f1"</span>,
  region     <span class="op">=</span> <span class="st">"full"</span>,
  size       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1500</span>, <span class="fl">750</span><span class="op">)</span>,
  rotation   <span class="op">=</span> <span class="fl">0</span>,
  quality    <span class="op">=</span> <span class="st">"native"</span>,
  format     <span class="op">=</span> <span class="st">"png"</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">eiffel_tower</span><span class="op">)</span>
<span class="co">#&gt; Class 'magick-image' &lt;externalptr&gt;</span>

<span class="va">eiffel_tower</span></code></pre></div>
<p><img src="reference/figures/README-example-1.png" width="100%"></p>
<p>You can get the metadata associated with this image using <code><a href="reference/bi_metadata.html">bi_metadata()</a></code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">eiffel_metadata</span> <span class="op">=</span> <span class="fu"><a href="reference/bi_metadata.html">bi_metadata</a></span><span class="op">(</span><span class="st">"ark:/12148/btv1b9055204k/f1"</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">eiffel_metadata</span>, max.l <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>
<span class="co">#&gt; List of 13</span>
<span class="co">#&gt;  $ @id        : chr "https://gallica.bnf.fr/iiif/ark:/12148/btv1b9055204k/manifest.json"</span>
<span class="co">#&gt;  $ label      : chr "BnF, d√©partement Estampes et photographie, EI-13 (2726)"</span>
<span class="co">#&gt;  $ attribution: chr "Biblioth√®que nationale de France"</span>
<span class="co">#&gt;  $ license    : chr "https://gallica.bnf.fr/html/und/conditions-dutilisation-des-contenus-de-gallica"</span>
<span class="co">#&gt;  $ logo       : chr "https://gallica.bnf.fr/mbImage/logos/logo-bnf.png"</span>
<span class="co">#&gt;  $ related    : chr "https://gallica.bnf.fr/ark:/12148/btv1b9055204k"</span>
<span class="co">#&gt;  $ seeAlso    :List of 1</span>
<span class="co">#&gt;   ..$ : chr "http://oai.bnf.fr/oai2/OAIHandler?verb=GetRecord&amp;metadataPrefix=oai_dc&amp;identifier=oai:bnf.fr:gallica/ark:/12148/btv1b9055204k"</span>
<span class="co">#&gt;  $ description: chr "Monuments de Paris : La Tour Eiffel : [photographie de presse] / Agence Meurisse"</span>
<span class="co">#&gt;  $ metadata   :List of 14</span>
<span class="co">#&gt;   ..$ :List of 2</span>
<span class="co">#&gt;   ..$ :List of 2</span>
<span class="co">#&gt;   ..$ :List of 2</span>
<span class="co">#&gt;   ..$ :List of 2</span>
<span class="co">#&gt;   ..$ :List of 2</span>
<span class="co">#&gt;   ..$ :List of 2</span>
<span class="co">#&gt;   ..$ :List of 2</span>
<span class="co">#&gt;   ..$ :List of 2</span>
<span class="co">#&gt;   ..$ :List of 2</span>
<span class="co">#&gt;   ..$ :List of 2</span>
<span class="co">#&gt;   ..$ :List of 2</span>
<span class="co">#&gt;   ..$ :List of 2</span>
<span class="co">#&gt;   ..$ :List of 2</span>
<span class="co">#&gt;   ..$ :List of 2</span>
<span class="co">#&gt;  $ sequences  :List of 1</span>
<span class="co">#&gt;   ..$ :List of 4</span>
<span class="co">#&gt;  $ thumbnail  :List of 1</span>
<span class="co">#&gt;   ..$ @id: chr "https://gallica.bnf.fr/ark:/12148/btv1b9055204k.thumbnail"</span>
<span class="co">#&gt;  $ @type      : chr "sc:Manifest"</span>
<span class="co">#&gt;  $ @context   : chr "http://iiif.io/api/presentation/2/context.json"</span></code></pre></div>
<p>You can query both data and associated metadata using the <code><a href="reference/bi_all_data.html">bi_all_data()</a></code> function and get a nicely formatted tibble:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/bi_all_data.html">bi_all_data</a></span><span class="op">(</span><span class="st">"ark:/12148/btv1b9055204k/f1"</span>, size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">15</span>, <span class="fl">7</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1 x 3</span>
<span class="co">#&gt;   identifier                  image      metadata         </span>
<span class="co">#&gt;   &lt;chr&gt;                       &lt;list&gt;     &lt;list&gt;           </span>
<span class="co">#&gt; 1 ark:/12148/btv1b9055204k/f1 &lt;magck-mg&gt; &lt;named list [13]&gt;</span></code></pre></div>
<p>You can also provide several identifiers to <code><a href="reference/bi_all_data.html">bi_all_data()</a></code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/bi_all_data.html">bi_all_data</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"ark:/12148/btv1b9055204k/f1"</span>,
              <span class="st">"ark:/12148/btv1b90055455/f1"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 2 x 3</span>
<span class="co">#&gt;   identifier                  image      metadata         </span>
<span class="co">#&gt;   &lt;chr&gt;                       &lt;list&gt;     &lt;list&gt;           </span>
<span class="co">#&gt; 1 ark:/12148/btv1b9055204k/f1 &lt;magck-mg&gt; &lt;named list [13]&gt;</span>
<span class="co">#&gt; 2 ark:/12148/btv1b90055455/f1 &lt;magck-mg&gt; &lt;named list [13]&gt;</span></code></pre></div>
</div>
<div id="-rate-limitation" class="section level2">
<h2 class="hasAnchor">
<a href="#-rate-limitation" class="anchor"></a><span class="emoji" data-emoji="boom">üí•</span> Rate limitation</h2>
<p>By default <code>bnfimage</code> implements rate limitation through the <a href="https://cran.r-project.org/package=ratelimitr"><code>ratelimitr</code> package</a>. The query are limited to a maximum of 1 every 3 seconds to avoid being blocked by the BnF server. This is the limit at which the BnF server considers the queries to be malicious. For the moment this limitation cannot be lifted.</p>
</div>
<div id="page_facing_up-data-license" class="section level2">
<h2 class="hasAnchor">
<a href="#page_facing_up-data-license" class="anchor"></a>:page_facing_up: Data license</h2>
<p>Note that the images from Gallica have <a href="https://gallica.bnf.fr/edit/und/conditions-dutilisation-des-contenus-de-gallica">a specific license</a> so make sure to check the license of the images you plan to reuse. As a general rule, non-commercial reuse is free of charge but the source should be speficied as ‚ÄúSource gallica.bnf.fr / Biblioth√®que nationale de France‚Äù or ‚ÄúSource gallica.bnf.fr / BnF‚Äù. Commercial reuse should be license specifically following the <a href="https://www.bnf.fr/fr/faire-une-utilisation-commerciale-dune-reproduction">price list</a>.</p>
</div>
<div id="information_source-related-projects" class="section level2">
<h2 class="hasAnchor">
<a href="#information_source-related-projects" class="anchor"></a>:information_source: Related projects</h2>
<p><a href="GuillaumePressiat/gargallica"><code>gargallica</code></a> is a collection of script and functions to retrieve data from the regular Gallica API.</p>
</div>
<div id="speech_balloon-code-of-conduct" class="section level2">
<h2 class="hasAnchor">
<a href="#speech_balloon-code-of-conduct" class="anchor"></a>:speech_balloon: Code of Conduct</h2>
<p>Please note that the <code>bnfimage</code> project is released with a <a href="CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/Rekyt/bnfimage/">https://‚Äãgithub.com/‚ÄãRekyt/‚Äãbnfimage/‚Äã</a>
</li>
<li>Report a bug at <br><a href="https://github.com/Rekyt/bnfimage/issues">https://‚Äãgithub.com/‚ÄãRekyt/‚Äãbnfimage/‚Äãissues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></small></li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing bnfimage</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Matthias Greni√© <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-4659-7522" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="Lifecycle: maturing"></a></li>
<li><a href="https://github.com/Rekyt/bnfimage/actions"><img src="https://github.com/Rekyt/bnfimage/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://codecov.io/gh/Rekyt/bnfimage"><img src="https://codecov.io/gh/Rekyt/bnfimage/branch/master/graph/badge.svg" alt="codecov"></a></li>
<li><a href="https://cran.r-project.org/package=bnfimage"><img src="https://www.r-pkg.org/badges/version/bnfimage" alt="CRAN-version"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Matthias Greni√©.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
